<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>RS485 Control</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>RS485 Control</h1>

    <div class="device-settings">
        <h2>デバイスID設定</h2>
        <div class="device-id-settings">
            <div class="device-row">
                <label for="settingDeviceId">設定器ID:</label>
                <input type="number" id="settingDeviceId" class="device-id-input" value="1" min="0" max="999">
            </div>
            <div class="device-row">
                <label for="displayDeviceId">表示器ID:</label>
                <input type="number" id="displayDeviceId" class="device-id-input" value="2" min="0" max="999">
            </div>
        </div>
        <button id="saveDeviceSettings">デバイスID設定を保存</button>
    </div>

    <div>
        <span id="connectionStatus" class="status disconnected">未接続</span>
    </div>
    <div>
        <button id="connectButton">接続</button>
        <button id="disconnectButton" disabled>切断</button>
    </div>

    <div class="manual-control">
        <h2>手動制御</h2>
        <div>
            <label for="percentInput">流量設定(%):</label>
            <input type="number" id="percentInput" min="0" max="100" step="0.1" value="0">
            <button id="writeButton" disabled>書き込み</button>
        </div>
    </div>

    <div class="auto-control">
        <h2>自動制御</h2>
        <div class="automation-table-container">
            <table id="automationTable">
                <thead>
                    <tr>
                        <th>流量設定 (%)</th>
                        <th>時間 (秒)</th>
                        <th>設定器電圧 (V)</th>
                        <th>表示器電圧 (V)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="number" min="0" max="100" step="0.1" class="percent-input"></td>
                        <td><input type="number" min="1" max="120" class="time-input"></td>
                        <td><input type="number" disabled></td>
                        <td><input type="number" disabled></td>
                    </tr>
                </tbody>
            </table>
            <button id="addRow">行を追加</button>
        </div>
        <div class="automation-controls">
            <button id="startAutomation">開始</button>
            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progress"></div>
                </div>
                <div id="progressText">0.0%</div>
            </div>
        </div>
    </div>

    <div class="voltage-display">
        <h2>電圧表示</h2>
        <div class="voltage-values">
            <div>設定器: <span id="currentVoltage1">0.000 [V]</span></div>
            <div>表示器: <span id="currentVoltage2">0.000 [V]</span></div>
        </div>
    </div>

    <script src="command.js"></script>
    <script src="connect.js"></script>
    <script src="automation.js"></script>
    <script src="device-settings.js"></script> 
</body>
</html>